# 高亮助手

一个强大的思源笔记增强工具，提供文本高亮、智能备注、标签快速打标和闪卡快速切换等功能。

## ✨ 功能特性

### 🎨 高亮与备注
- **多彩高亮**：4种颜色高亮选择（黄色、蓝色、绿色、粉色）
- **智能备注**：为高亮文本添加个人备注
- **移动优化**：专为手机版思源设计的浮动工具栏
- **桌面支持**：完美支持桌面版只读模式
- **状态管理**：支持修改、删除已有高亮和备注
- **主题适配**：完美适配明暗主题切换

### 🏷️ 标签快速打标
- **快速打标**：右键或长按快速为块添加标签（桌面版和移动版）
- **预设标签**：8种精心设计的标签（重点⭐、难点🔥、易错⚡、记忆💭、挖掘🔍、检查✅、练习✍️、疑问❓）
- **标签搜索**：点击标签即可搜索包含该标签的所有块
- **搜索范围**：支持本文档、子文档、笔记本三种范围
- **智能保护**：自动检测代码块、数学公式等复杂内容，避免格式破坏
- **状态保护**：只读状态保护，确保数据安全

### ⚡ 闪卡快速切换
- **历史记录**：自动记录闪卡筛选历史（最多10条）
- **快捷入口**：小圆球浮窗，快速访问历史筛选
- **智能管理**：支持固定常用筛选、去重、使用频次统计
- **一键切换**：快速切换到历史筛选目标
- **灵活定制**：支持拖拽调整位置
- **数据持久**：自动保存，插件卸载时清理

## 使用方法

### 🎨 高亮与备注

1. **选中文本**：在思源笔记中选中任意文本
2. **选择颜色**：在弹出的工具栏中点击颜色按钮进行高亮
3. **添加备注**：点击备注按钮为高亮文本添加个人想法
4. **管理高亮**：点击已高亮的文本可修改颜色或删除

### 🏷️ 快速打标签（v1.1.4+）

**触发方式：**
- **手机版**：长按块中的空白区域（避免选中文本）
- **电脑版**：右键点击块中的空白区域

**使用条件：**
- ⚠️ **仅在文档锁定（不可编辑）状态下可用**
- 确保文档处于只读模式，点击顶部锁按钮可切换状态

**操作步骤：**
1. 锁定文档（点击顶部工具栏的锁按钮）
2. 在任意块的空白区域长按（手机）或右键（电脑）
3. 在弹出的标签面板中选择合适的标签
4. 标签会自动添加到块的末尾

**预设标签：**
- ⭐ 重点 - 标记重要内容
- 🔥 难点 - 标记困难知识点
- ⚡ 易错 - 标记容易出错的地方
- 💭 记忆 - 需要记忆的内容
- 🔍 挖掘 - 需要深入研究
- ✅ 检查 - 需要复查的内容
- ✍️ 练习 - 需要练习的题目
- ❓ 疑问 - 存在疑问的地方

**标签搜索：**
- 点击任意标签即可搜索包含该标签的所有块
- 支持三种搜索范围：本文档、子文档、笔记本
- 搜索结果按文档树形结构展示，方便导航

## 系统要求

- 思源笔记 v3.2.1+
- 手机版环境（iOS/Android/移动浏览器）
- 桌面版暂不支持

## 安装方式

1. 下载最新版本的 `package.zip`
2. 在思源笔记中打开 `设置` → `集市` → `已下载` → `插件`
3. 点击 `从本地安装插件` 并选择下载的zip文件
4. 启用插件并重启思源笔记

## 技术特点

- 智能劫持思源原生工具栏，无缝集成
- 保留原始Markdown格式标记
- 完善的事件管理，避免内存泄漏
- 自动状态重置，确保每次使用正常

## 📝 更新日志

### v3.0.3 (2025-10-02)
- 🐛 **修复**：手机版快速添加标签BUG
  - 修复手机版添加标签时变成纯文本的问题
  - 改用DOM格式替代Markdown格式，不再依赖"Markdown行级标签语法"设置
  - 手机版和桌面版现在都能正确添加可点击的标签
- 📖 **文档**：完善标签功能使用说明
  - 详细说明手机版长按和电脑版右键的触发方式
  - 补充使用条件说明（需锁定文档）

### v2.0.0 (2025-10-02)
- 🎉 **重大更新**：标签快速打标系统（v1.1.4开发）
  - 右键或长按快速打标签
  - 8种预设标签，满足各种学习场景
  - 点击标签快速搜索
  - 多种搜索范围支持
  - 智能样式保护和状态保护
- ⚡ **新功能**：闪卡快速切换
  - 自动记录筛选历史
  - 小圆球浮窗快捷入口
  - 支持固定和管理历史记录
  - 智能去重和频次统计
- 🔧 技术改进和性能优化

### v1.1.0
- ✅ 新增桌面版只读模式支持
- ✅ 增强平台检测（移动端/桌面端）
- ✅ 优化桌面环境UI
- ✅ 改进按钮样式适配不同平台
- ✅ 添加完善的测试工具

### v1.0.1
- 修复工具栏只能使用一次的问题
- 完善事件监听器管理
- 优化Markdown格式保留逻辑
- 清理无用代码，减少插件体积

### v1.0.0
- 初始版本发布
- 支持4种颜色高亮
- 支持备注功能
- 手机版优化

## 💖 支持开发

如果这个插件对你有帮助，欢迎支持开发者！

<div align="center">
<img src="https://i0.hdslb.com/bfs/openplatform/3b4d37a5285096d3493d09ca88280d9acf90129e.png@1e_1c.webp" width="200" alt="赞助二维码"/>

**扫码支持开发者** ☕
</div>

你的支持是我继续优化插件的动力！