# ğŸš€ é«˜äº®åŠ©æ‰‹æ’ä»¶éƒ¨ç½²æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è®°å½•äº†é«˜äº®åŠ©æ‰‹æ’ä»¶çš„æ­£ç¡®éƒ¨ç½²æµç¨‹ï¼ŒåŒ…æ‹¬å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ä¸¤ç§æ–¹å¼ã€‚

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼ˆæ¨èï¼‰

### å‰ç½®æ¡ä»¶

1. **Node.js ç¯å¢ƒ**ï¼šç¡®ä¿å·²å®‰è£… Node.js å’Œ pnpm
2. **æ€æºç¬”è®°**ï¼šç¡®ä¿æ€æºç¬”è®°æ­£åœ¨è¿è¡Œ
3. **é¡¹ç›®ç›®å½•**ï¼šç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ“ä½œ

### éƒ¨ç½²æ­¥éª¤

#### 1. åˆ›å»ºç¬¦å·é“¾æ¥

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
pnpm run make-link
```

**æ‰§è¡Œç»“æœç¤ºä¾‹ï¼š**
```
>>> Constant "targetDir" is empty, try to get SiYuan directory automatically....
>>> Got 2 SiYuan workspaces
        [0] C:\Users\Administrator\æµ‹è¯•ç©ºé—´
        [1] C:\Users\Administrator\SiYuan
        Please select a workspace[0-1]: 0
>>> Successfully got target directory: C:\Users\Administrator\æµ‹è¯•ç©ºé—´/data/plugins
Done! Created symlink C:\Users\Administrator\æµ‹è¯•ç©ºé—´/data/plugins/highlight-assistant
```

#### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
pnpm run dev
```

**æ‰§è¡Œç»“æœç¤ºä¾‹ï¼š**
```
> plugin-sample-vite-svelte@0.4.1 dev C:\Users\Administrator\æµ‹è¯•ç©ºé—´\data\plugins\highlight_assistant
> cross-env NODE_ENV=development VITE_SOURCEMAP=inline vite build --watch
isDev=> true
isSrcmap=> true
outputDir=> dev
vite v5.4.20 building for production...
watching for file changes...
build started...
ğŸŒˆ Parse I18n: YAML to JSON..
transforming (1) src\index.ts
âœ“ 3 modules transformed.
rendering chunks (1)...
LiveReload enabled on port 35730
dev/index.css    6.51 kB â”‚ gzip:  1.60 kB
dev/index.js   161.83 kB â”‚ gzip: 43.26 kB â”‚ map: 93.43 kB
[vite-plugin-static-copy] Copied 5 items.
built in 440ms.
```

### éªŒè¯éƒ¨ç½²

#### 1. æ£€æŸ¥ç¬¦å·é“¾æ¥

```powershell
# æ£€æŸ¥ç¬¦å·é“¾æ¥æ˜¯å¦æ­£ç¡®åˆ›å»º
Get-Item "C:\Users\Administrator\æµ‹è¯•ç©ºé—´\data\plugins\highlight-assistant" | Select-Object LinkType, Target
```

**é¢„æœŸç»“æœï¼š**
```
LinkType     Target
--------     ------
SymbolicLink {C:\Users\Administrator\æµ‹è¯•ç©ºé—´\data\plugins\highlight_assistant\dev}
```

#### 2. æ£€æŸ¥æ–‡ä»¶ç»“æ„

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨äºæ€æºæ’ä»¶ç›®å½•ï¼š
```
C:\Users\Administrator\æµ‹è¯•ç©ºé—´\data\plugins\highlight-assistant\
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ en_US.json
â”‚   â””â”€â”€ zh_CN.json
â”œâ”€â”€ icon.png
â”œâ”€â”€ index.css
â”œâ”€â”€ index.js
â”œâ”€â”€ plugin.json
â”œâ”€â”€ preview.png
â”œâ”€â”€ README_zh_CN.md
â””â”€â”€ README.md
```

#### 3. é‡å¯æ€æºç¬”è®°

1. å®Œå…¨å…³é—­æ€æºç¬”è®°
2. é‡æ–°æ‰“å¼€æ€æºç¬”è®°
3. æ£€æŸ¥æ’ä»¶æ˜¯å¦åœ¨æ’ä»¶åˆ—è¡¨ä¸­æ˜¾ç¤º
4. å¯ç”¨æ’ä»¶

## ğŸ­ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build
```

**æ‰§è¡Œç»“æœç¤ºä¾‹ï¼š**
```
> plugin-sample-vite-svelte@0.4.1 build C:\Users\Administrator\æµ‹è¯•ç©ºé—´\data\plugins\highlight_assistant
> cross-env NODE_ENV=production vite build
isDev=> false
isSrcmap=> false
outputDir=> dist
vite v5.4.20 building for production...
transforming (1) src\index.ts
âœ“ 3 modules transformed.
dist/index.css   6.51 kB â”‚ gzip: 1.60 kB
dist/index.js   28.96 kB â”‚ gzip: 8.27 kB
[vite-plugin-static-copy] Copied 5 items.
Cleanup searching patterns: [ 'dist/i18n/*.yaml', 'dist/i18n/*.md' ]
Cleaned up: C:/Users/Administrator/æµ‹è¯•ç©ºé—´/data/plugins/highlight_assistant/dist/i18n/README.md
âœ“ built in 399ms
Zip packing - "./dist" folder :
  - Preparing files.
  - Creating zip archive.
  - Done.
```

### å®‰è£…åˆ°æœ¬åœ°æ€æº

```bash
# æ„å»ºå¹¶å®‰è£…åˆ°æœ¬åœ°æ€æº
pnpm run make-install
```

## ğŸ”§ éƒ¨ç½²è„šæœ¬è¯´æ˜

### make-link è„šæœ¬

- **åŠŸèƒ½**ï¼šåˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå°†æ€æºæ’ä»¶ç›®å½•é“¾æ¥åˆ°é¡¹ç›®çš„ `dev/` ç›®å½•
- **ä¼˜åŠ¿**ï¼šä»£ç ä¿®æ”¹åè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ”¯æŒçƒ­é‡è½½
- **é€‚ç”¨åœºæ™¯**ï¼šå¼€å‘è°ƒè¯•

### make-install è„šæœ¬

- **åŠŸèƒ½**ï¼šæ„å»ºç”Ÿäº§ç‰ˆæœ¬å¹¶å¤åˆ¶åˆ°æ€æºæ’ä»¶ç›®å½•
- **ä¼˜åŠ¿**ï¼šç”Ÿæˆå®Œæ•´çš„å‘å¸ƒåŒ…
- **é€‚ç”¨åœºæ™¯**ï¼šæµ‹è¯•å‘å¸ƒç‰ˆæœ¬

## ğŸ“ ç›®å½•ç»“æ„è¯´æ˜

### å¼€å‘æ¨¡å¼è¾“å‡º (`dev/` ç›®å½•)

```
dev/
â”œâ”€â”€ index.js          # ä¸»ç¨‹åº (åŒ…å«æºç æ˜ å°„)
â”œâ”€â”€ index.css         # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ i18n/             # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ en_US.json
â”‚   â””â”€â”€ zh_CN.json
â”œâ”€â”€ plugin.json       # æ’ä»¶é…ç½®
â”œâ”€â”€ README*.md        # è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ icon.png          # æ’ä»¶å›¾æ ‡
â””â”€â”€ preview.png       # é¢„è§ˆå›¾
```

### ç”Ÿäº§æ¨¡å¼è¾“å‡º (`dist/` ç›®å½•)

```
dist/
â”œâ”€â”€ index.js          # ä¸»ç¨‹åº (å‹ç¼©)
â”œâ”€â”€ index.css         # æ ·å¼æ–‡ä»¶ (å‹ç¼©)
â”œâ”€â”€ i18n/             # å›½é™…åŒ–æ–‡ä»¶
â”œâ”€â”€ plugin.json       # æ’ä»¶é…ç½®
â”œâ”€â”€ README*.md        # è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ icon.png          # æ’ä»¶å›¾æ ‡
â”œâ”€â”€ preview.png       # é¢„è§ˆå›¾
â””â”€â”€ package.zip       # å‘å¸ƒåŒ… (è‡ªåŠ¨ç”Ÿæˆ)
```

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ç¬¦å·é“¾æ¥åˆ›å»ºå¤±è´¥

**é—®é¢˜**ï¼šWindowsæƒé™ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ
pnpm run make-link-win
```

### 2. æ€æºç¬”è®°æ— æ³•æ£€æµ‹åˆ°æ’ä»¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç¬¦å·é“¾æ¥æ˜¯å¦æ­£ç¡®åˆ›å»º
2. é‡å¯æ€æºç¬”è®°
3. æ£€æŸ¥æ’ä»¶ç›®å½•æƒé™

### 3. å¼€å‘æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
2. ç¡®ä¿Node.jsç‰ˆæœ¬å…¼å®¹
3. æ¸…ç†node_modulesé‡æ–°å®‰è£…ä¾èµ–

## ğŸš€ æœ€ä½³å®è·µ

### å¼€å‘æµç¨‹

1. **é¦–æ¬¡éƒ¨ç½²**ï¼š`pnpm run make-link`
2. **å¯åŠ¨å¼€å‘**ï¼š`pnpm run dev`
3. **ä¿®æ”¹ä»£ç **ï¼šè‡ªåŠ¨çƒ­é‡è½½
4. **æµ‹è¯•åŠŸèƒ½**ï¼šåœ¨æ€æºä¸­æµ‹è¯•
5. **æäº¤ä»£ç **ï¼šæ­£å¸¸gitæ“ä½œ

### å‘å¸ƒæµç¨‹

1. **æ„å»ºå‘å¸ƒ**ï¼š`pnpm run build`
2. **æµ‹è¯•å®‰è£…**ï¼š`pnpm run make-install`
3. **éªŒè¯åŠŸèƒ½**ï¼šåœ¨æ€æºä¸­æµ‹è¯•
4. **åˆ›å»ºå‘å¸ƒ**ï¼šä½¿ç”¨ç”Ÿæˆçš„ `package.zip`

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€å‘æ¨¡å¼**ï¼šä½¿ç”¨ç¬¦å·é“¾æ¥ï¼Œä¿®æ”¹ä»£ç åè‡ªåŠ¨ç”Ÿæ•ˆ
2. **ç”Ÿäº§æ¨¡å¼**ï¼šéœ€è¦æ‰‹åŠ¨æ„å»ºå’Œå®‰è£…
3. **æ€æºé‡å¯**ï¼šéƒ¨ç½²åéœ€è¦é‡å¯æ€æºç¬”è®°æ‰èƒ½ç”Ÿæ•ˆ
4. **æƒé™é—®é¢˜**ï¼šWindowså¯èƒ½éœ€è¦ç®¡ç†å‘˜æƒé™åˆ›å»ºç¬¦å·é“¾æ¥
5. **ç«¯å£å†²çª**ï¼šå¼€å‘æœåŠ¡å™¨ä½¿ç”¨35730ç«¯å£ï¼Œç¡®ä¿ç«¯å£å¯ç”¨

---

*æœ€åæ›´æ–°ï¼š2024å¹´10æœˆ1æ—¥*
*ç‰ˆæœ¬ï¼š1.1.0*
